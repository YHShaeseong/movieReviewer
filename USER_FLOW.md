# Pictos 사용자 플로우 (User Flow)

## 📊 전체 플로우 다이어그램

```
┌─────────────────────────────────────────────────────────────────┐
│                        [첫 방문 / 재방문]                          │
└────────────────────────┬────────────────────────────────────────┘
                         │
                    localStorage 확인
                         │
        ┌────────────────┴────────────────┐
        │                                 │
   [프로필 없음]                      [프로필 있음]
        │                                 │
        ▼                                 ▼
┌───────────────────┐              ┌──────────────┐
│  취향 설정 팝업    │              │  메인 페이지  │
│   (필수 진행)     │              │  (자유 탐색)  │
└────────┬──────────┘              └──────┬───────┘
         │                                 │
         │ ┌──────────────────┐            │
         │ │ Phase 1: 카드선택 │            │
         │ │  (5개 질문)      │            │
         │ └────────┬─────────┘            │
         │          │                      │
         │ ┌────────▼─────────┐            │
         │ │ Phase 2: VS 게임  │            │
         │ │  (13 라운드)     │            │
         │ └────────┬─────────┘            │
         │          │                      │
         │ ┌────────▼─────────┐            │
         │ │ Phase 3: 결과    │            │
         │ │  (추천 영화)     │            │
         │ └────────┬─────────┘            │
         │          │                      │
         └──────────┴──────────────────────┘
                    │
                    ▼
        ┌───────────────────────┐
        │    메인 페이지 진입     │
        │   (자유로운 탐색)      │
        └───────────┬───────────┘
                    │
        ┌───────────┴───────────────────────────────────┐
        │                                               │
        ▼                                               ▼
┌──────────────────┐                          ┌─────────────────┐
│  자유 탐색 영역   │◄─────────────────────────│  상호작용 기능   │
│  (선택적 이동)   │                          │  (언제든지 사용) │
└──────────────────┘                          └─────────────────┘
```

---

## 🎯 1단계: 첫 방문 (순차적 진행 - 필수)

### 1-1. 초기 확인
```
[사이트 방문]
    ↓
localStorage에서 userProfile 확인
    ↓
┌───────────────┬───────────────┐
│ 없음          │ 있음          │
↓               ↓               │
팝업 자동 열림   메인 페이지 표시 │
```

### 1-2. 취향 설정 팝업 (순차 진행)
```
Step 1: Phase 1 - 기본 취향 수집
┌─────────────────────────────────┐
│ Q1. 선호 장르 (다중 선택)         │
│ Q2. 선호 무드 (단일 선택)         │
│ Q3. 탐색 스타일 (단일 선택)       │
│ Q4. 피하고 싶은 장르 (다중 선택)  │
│ Q5. 인생 영화 (검색 입력)         │
└────────────┬────────────────────┘
             ↓
      [다음 단계 버튼]
             ↓

Step 2: Phase 2 - VS 게임
┌─────────────────────────────────┐
│ Round 1-10: Phase 1 (탐색)      │
│  ├─ R1-3: 세계관 (3라운드)       │
│  ├─ R4-6: 자극 (3라운드)         │
│  └─ R7-10: 분위기 (4라운드)      │
│                                 │
│ Round 11-13: Phase 2 (검증)     │
│  ├─ R11: 세계관 재확인           │
│  ├─ R12: 자극 재확인             │
│  └─ R13: 분위기 재확인           │
└────────────┬────────────────────┘
             ↓
      [결과 확인]
             ↓

Step 3: 결과 및 추천
┌─────────────────────────────────┐
│ ✓ 3-Layer 분석 결과             │
│ ✓ 한 문장 취향 요약             │
│ ✓ 맞춤 추천 영화 4개             │
└────────────┬────────────────────┘
             ↓
      [시작하기 버튼]
             ↓
        메인 페이지
```

**특징:**
- ✅ 순차적 진행 (건너뛰기 불가)
- ✅ 진행률 표시
- ✅ 1회만 실행 (완료 후 localStorage 저장)

---

## 🎨 2단계: 메인 페이지 (자유로운 탐색)

### 메인 페이지 구조
```
┌────────────────────────────────────────────────────────────┐
│                         [헤더]                              │
│  Logo │ 검색창 │ TOP100 │ Watchlist │ 로그인 │ 프로필      │
└─────────────────────────┬──────────────────────────────────┘
                          │
    ┌─────────────────────┴─────────────────────┐
    │                                           │
    ▼                                           ▼
┌─────────────┐                         ┌─────────────┐
│ 콘텐츠 영역  │                         │ 사용자 행동  │
│ (자유탐색)  │                         │ (언제든지)  │
└─────────────┘                         └─────────────┘
```

---

## 🔀 자유로운 탐색 플로우

### A. 콘텐츠 탐색 (순서 무관)

```
┌──────────────────────────────────────────────┐
│           사용자 선택 가능 영역               │
│                                              │
│  ┌─────────────────┐  ┌─────────────────┐   │
│  │ ① 히어로 캐러셀  │  │ ② 오늘 이건 어때 │   │
│  │  - 맞춤 추천     │  │  - 일일 추천     │   │
│  │  - 5개 영화      │  │  - 가로 스크롤   │   │
│  └────────┬────────┘  └────────┬────────┘   │
│           │                    │             │
│           └──────────┬─────────┘             │
│                      │                       │
│            ┌─────────▼─────────┐             │
│            │ ③ TOP 100 영화     │             │
│            │  - 정렬 가능       │             │
│            │  - 더보기 버튼     │             │
│            └───────────────────┘             │
└──────────────────────────────────────────────┘
         │                │                │
         └────────────────┴────────────────┘
                          │
                [영화 카드 클릭]
                          ↓
                 영화 상세 모달 → [B 영역]
```

### B. 상호작용 기능 (언제든지 사용 가능)

```
┌────────────────────────────────────────────────┐
│              상시 사용 가능 기능                 │
│                                                │
│  ① 검색                                        │
│     ├─ 헤더 검색창 입력                         │
│     ├─ 실시간 검색 결과                         │
│     └─ 영화 카드 클릭 → 상세 모달               │
│                                                │
│  ② Watchlist                                   │
│     ├─ 영화 카드의 북마크 버튼                   │
│     ├─ 헤더 Watchlist 버튼                     │
│     └─ 로그인 필요 시 → 로그인 모달             │
│                                                │
│  ③ 로그인/회원가입                              │
│     ├─ 헤더 로그인 버튼                         │
│     ├─ 회원가입 전환                            │
│     └─ 게스트 데이터 마이그레이션               │
│                                                │
│  ④ 프로필 확인                                  │
│     ├─ 로그인 후 프로필 아이콘                  │
│     ├─ 3-Layer 분석 결과 표시                  │
│     └─ VS 게임 결과 확인                       │
│                                                │
│  ⑤ 영화 상세 정보                              │
│     ├─ 출연진/리뷰/유사 영화                   │
│     ├─ 예고편 재생                             │
│     ├─ 스트리밍 링크                           │
│     └─ Watchlist 추가/제거                     │
└────────────────────────────────────────────────┘
```

---

## 🎬 상세 사용자 시나리오

### 시나리오 1: 추천 중심 탐색
```
메인 페이지
    ↓
히어로 캐러셀 확인 (VS 게임 기반 추천)
    ↓
관심 영화 클릭
    ↓
영화 상세 모달
    ├─ 예고편 시청
    ├─ Watchlist 추가 → 로그인 필요 알림
    └─ 유사 영화 확인
    ↓
로그인 모달
    ↓
Watchlist 추가 완료
    ↓
유사 영화 클릭 → 상세 모달
    ↓
계속 탐색...
```

### 시나리오 2: 검색 중심 탐색
```
메인 페이지
    ↓
헤더 검색창에 "인셉션" 입력
    ↓
실시간 검색 결과 표시
    ↓
인셉션 클릭 → 상세 모달
    ↓
출연진 확인 → 레오나르도 디카프리오 영화 더 보고 싶음
    ↓
검색창에 "레오나르도" 입력
    ↓
타이타닉 클릭 → 상세 모달
    ↓
Watchlist 추가
    ↓
계속 탐색...
```

### 시나리오 3: TOP 100 중심 탐색
```
메인 페이지
    ↓
TOP 100 섹션으로 스크롤
    ↓
정렬 변경: 평점 내림차순
    ↓
영화 카드 클릭 → 상세 모달
    ↓
리뷰 읽기
    ↓
Watchlist 추가
    ↓
더보기 버튼 클릭 (100개 전체)
    ↓
계속 탐색...
```

### 시나리오 4: 프로필 확인 중심
```
메인 페이지 (로그인 상태)
    ↓
헤더 프로필 아이콘 클릭
    ↓
프로필 모달 열림
    ├─ 3-Layer 분석 결과 확인
    ├─ 선호 장르 확인
    └─ VS 게임 결과 확인
    ↓
모달 닫기
    ↓
"오늘 이건 어때" 섹션 확인 (취향 기반)
    ↓
마음에 드는 영화 Watchlist 추가
    ↓
Watchlist 버튼 클릭 → 저장된 영화 확인
    ↓
계속 탐색...
```

---

## 🔄 순환 구조 (무한 탐색)

```
    ┌──────────────────────────────────────┐
    │                                      │
    │    ┌────────────────────┐            │
    │    │    메인 페이지      │            │
    │    └──────┬─────────────┘            │
    │           │                          │
    │    ┌──────┴─────────┐                │
    │    │                │                │
    ▼    ▼                ▼                │
┌────────┐  ┌──────────┐  ┌──────────┐    │
│ 검색   │  │ 추천 확인 │  │ TOP 100  │    │
└───┬────┘  └─────┬────┘  └─────┬────┘    │
    │             │              │         │
    └──────┬──────┴──────┬───────┘         │
           │             │                 │
           ▼             ▼                 │
    ┌──────────┐  ┌──────────┐            │
    │ 영화 선택 │  │Watchlist │            │
    └─────┬────┘  └─────┬────┘            │
          │             │                 │
          ▼             │                 │
    ┌──────────┐        │                 │
    │ 상세 모달 │        │                 │
    └─────┬────┘        │                 │
          │             │                 │
          ├─────────────┘                 │
          │                               │
          └───────────────────────────────┘
           (계속 탐색 또는 종료)
```

---

## 📱 사용자 인터페이스 흐름도

```
┌─────────────────────────────────────────────────────┐
│                     [헤더 - 고정]                     │
│  Pictos │ 검색 │ TOP100 │ Watchlist │ 로그인/프로필  │
└──────────────┬──────────────────────────────────────┘
               │ (항상 접근 가능)
               │
┌──────────────┴──────────────────────────────────────┐
│                  [스크롤 가능 영역]                   │
│                                                      │
│  ┌─────────────────────────────────────────┐        │
│  │ 히어로 캐러셀 (맞춤 추천 5개)            │        │
│  │  ◄ [영화1] [영화2] [영화3] [영화4] ►   │        │
│  │  ● ○ ○ ○ ○                            │        │
│  └─────────────────────────────────────────┘        │
│                     ↓                                │
│  ┌─────────────────────────────────────────┐        │
│  │ 오늘 이건 어때? (일일 추천)              │        │
│  │  ◄ [카드] [카드] [카드] [카드] ... ►   │        │
│  └─────────────────────────────────────────┘        │
│                     ↓                                │
│  ┌─────────────────────────────────────────┐        │
│  │ TOP 100 (정렬: 인기도↓)                │        │
│  │  [#1] [#2] [#3] [#4] [#5]              │        │
│  │  [#6] [#7] [#8] ...                    │        │
│  │         [더보기 버튼]                   │        │
│  └─────────────────────────────────────────┘        │
└─────────────────────────────────────────────────────┘
                     ↓
┌─────────────────────────────────────────────────────┐
│                   [푸터]                              │
│           저작권 및 서비스 정보                        │
└─────────────────────────────────────────────────────┘
```

---

## 🎯 핵심 특징 정리

### ✅ 순차적 영역 (필수)
1. **첫 방문 팝업** (Phase 1 → Phase 2 → Phase 3)
   - 순서 고정
   - 건너뛰기 불가
   - 1회만 실행

### 🔀 자유로운 영역 (선택)
2. **메인 페이지 탐색**
   - 순서 무관
   - 언제든지 이동 가능
   - 반복 사용 가능

### 🔄 상호작용 기능 (상시)
- 검색
- Watchlist
- 로그인/회원가입
- 프로필 확인
- 영화 상세 정보

---

## 💡 사용자 경험 설계 원칙

1. **초기 진입: 가이드 제공**
   - 팝업으로 명확한 단계 안내
   - 진행률 표시
   - 결과 즉시 확인

2. **메인 사용: 자유도 극대화**
   - 모든 콘텐츠 접근 가능
   - 순서 강제 없음
   - 사용자 의도에 따른 탐색

3. **재방문: 빠른 접근**
   - 저장된 프로필 자동 로드
   - 맞춤 추천 즉시 표시
   - 로그인 상태 유지

4. **지속적 개선: 학습 없음**
   - 초기 설정 유지
   - 명시적 재설정만 가능
   - 데이터 안정성 보장
